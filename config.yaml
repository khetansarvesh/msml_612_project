# Random seed for full reproducibility (can be overridden by SEED environment variable)
seed: 42

# ============================================================================
# Data configuration
# ============================================================================
data:
  batch_size: 64 # 64 per GPU × 4 GPUs = 256 effective batch size
  shuffle: True
  num_workers: 0 # number of data loading workers (0 = main process)

# ============================================================================
# Model configuration
# ============================================================================
model:
  # Image properties (CIFAR-10: 32×32 RGB)
  image_size: 32
  image_channels: 3
  # DIT (Diffusion Transformer) architecture
  depth: 12
  num_heads: 8
  hidden_dim: 384

# ============================================================================
# Training configuration
# ============================================================================
training:
  num_epochs: 200
  learning_rate: 2.0e-4
  optimizer: "adam"
  adam_betas: [0.9, 0.999]
  adam_eps: 1.0e-8
  weight_decay: 1.0e-4
  # Checkpoint settings
  checkpoint_path: "model/cifar10_dit_ckpt.pth"
  save_every_n_epochs: 10 # save checkpoint after every N epochs (checkpoints at 40, 80, 120, 160, 200)
  # Resume from checkpoint (set to None or empty string to skip)
  resume_from: null

# ============================================================================
# Diffusion process configuration
# ============================================================================
diffusion:
  # Number of diffusion timesteps
  num_steps: 1000
  # Beta schedule parameters
  beta_start: 1.0e-4
  beta_end: 0.02
  beta_schedule: "linear" # "linear" or "cosine"

# ============================================================================
# Inference/Sampling configuration
# ============================================================================
inference:
  num_samples: 16
  num_grid_rows: 4
  class_label: 1 # class to generate (0-9 for CIFAR-10: 0=airplane, 1=automobile, 2=bird, 3=cat, 4=deer, 5=dog, 6=frog, 7=horse, 8=ship, 9=truck)
  seed: null # if provided, uses this seed for deterministic sampling
  save_path: "outputs/sample_grid.png"

# ============================================================================
# Device and debugging
# ============================================================================
device: "cuda" # "cuda" or "cpu"
deterministic_algorithms: True # enforce deterministic PyTorch algorithms
